{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lstudio\\\\Web_Dev\\\\react-note-app\\\\client\\\\src\\\\pages\\\\CreateArea.jsx\";\nimport React, { Component } from \"react\";\nimport api from '../api';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment-timezone';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Fab from \"@material-ui/core/Fab\";\n\nclass CreateArea extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeTitle = async event => {\n      const title = event.target.value;\n      this.setState({\n        title\n      });\n    };\n\n    this.handleChangeInputContent = async event => {\n      const content = event.target.value;\n      this.setState({\n        content\n      });\n    };\n\n    this.handleChangeDate = async event => {\n      this.setState({\n        date: event\n      });\n    };\n\n    this.addNote = async () => {\n      const {\n        title,\n        content,\n        date\n      } = this.state;\n      let mainDate = this.state.date;\n      const taipei = moment.tz(mainDate, \"Asia/Taipei\");\n      let dateObj = taipei.utc(true).format(\"L\");\n      const payload = {\n        title,\n        content,\n        date: dateObj\n      };\n      await api.createNote(payload).then(res => {\n        window.alert(`Note added successfully`);\n        this.setState({\n          title: '',\n          date: '',\n          content: ''\n        });\n      });\n      window.location.reload();\n    };\n\n    this.state = {\n      title: '',\n      date: new Date(),\n      content: ''\n    };\n  }\n\n  render() {\n    const {\n      title,\n      content\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"create-note\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"title\",\n          onChange: this.handleChangeTitle,\n          value: title,\n          placeholder: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: this.state.date,\n          onChange: this.handleChangeDate,\n          name: \"startDate\",\n          format: \"format\",\n          dateFormat: \"MM/dd/yyyy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"content\",\n          onChange: this.handleChangeInputContent,\n          value: content,\n          placeholder: \"Take a note...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Fab, {\n          onClick: this.addNote,\n          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default CreateArea;","map":{"version":3,"sources":["C:/Users/Lstudio/Web_Dev/react-note-app/client/src/pages/CreateArea.jsx"],"names":["React","Component","api","DatePicker","moment","AddIcon","Fab","CreateArea","constructor","props","handleChangeTitle","event","title","target","value","setState","handleChangeInputContent","content","handleChangeDate","date","addNote","state","mainDate","taipei","tz","dateObj","utc","format","payload","createNote","then","res","window","alert","location","reload","Date","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport api from '../api';\r\nimport DatePicker from 'react-datepicker';\r\nimport moment from 'moment-timezone';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\n\r\nclass CreateArea extends Component {\r\n  constructor(props) {\r\n      super(props)\r\n\r\n      this.state = {\r\n          title: '',\r\n          date: new Date(),\r\n          content: '',\r\n      }\r\n  }\r\n\r\n\r\n  handleChangeTitle = async event => {\r\n      const title = event.target.value\r\n      this.setState({ title })\r\n  }\r\n\r\n  handleChangeInputContent = async event => {\r\n      const content = event.target.value\r\n      this.setState({ content })\r\n  }\r\n\r\n  handleChangeDate = async event => {\r\n    this.setState({ date: event })\r\n}\r\n\r\n  addNote = async () => {\r\n      const { title, content, date  } = this.state;\r\n      let mainDate = this.state.date;\r\n      const taipei = moment.tz(mainDate, \"Asia/Taipei\");\r\n      let dateObj = taipei.utc(true).format(\"L\");\r\n      const payload = { title, content, date: dateObj }\r\n\r\n      await api.createNote(payload).then(res => {\r\n          window.alert(`Note added successfully`)\r\n          this.setState({\r\n            title: '',\r\n            date: '',\r\n            content: '',\r\n          })\r\n      })\r\n      window.location.reload();\r\n  }\r\n\r\n  render() {\r\n      const { title, content } = this.state\r\n      return (\r\n        <div>\r\n        <form className=\"create-note\">\r\n            <input\r\n              name=\"title\"\r\n              onChange={this.handleChangeTitle}\r\n              value={title}\r\n              placeholder=\"Title\"\r\n            />\r\n  \r\n          <DatePicker\r\n            selected={this.state.date}\r\n            onChange={this.handleChangeDate}\r\n            name=\"startDate\"\r\n            format=\"format\"\r\n            dateFormat=\"MM/dd/yyyy\"\r\n            />\r\n\r\n          <textarea\r\n            name=\"content\"\r\n            onChange={this.handleChangeInputContent}\r\n            value={content}\r\n            placeholder=\"Take a note...\"\r\n          />\r\n            <Fab onClick={this.addNote}>\r\n              <AddIcon />\r\n            </Fab>\r\n        </form>\r\n      </div>\r\n      )\r\n  }\r\n}\r\n\r\n\r\nexport default CreateArea;\r\n"]},"metadata":{},"sourceType":"module"}